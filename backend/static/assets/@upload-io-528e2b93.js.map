{"version":3,"file":"@upload-io-528e2b93.js","sources":["../../../frontend/node_modules/@upload-io/upload-api-client-upload-js/dist/main.js"],"sourcesContent":["module.exports =\n/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/index.ts\":\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"beginMultipartUpload\": function() { return /* reexport */ beginMultipartUpload; },\n  \"completeUploadPart\": function() { return /* reexport */ completeUploadPart; },\n  \"getUploadPart\": function() { return /* reexport */ getUploadPart; },\n  \"request\": function() { return /* reexport */ request; }\n});\n\n;// CONCATENATED MODULE: ./src/core/request.ts\n/**\n * Request using XHR client\n * @param options The request options from the the service\n * @returns ApiResult\n * @throws ApiError\n */\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar request = _async(function (config, options) {\n  var url = getUrl(config, options);\n  return _await(sendRequest(config, options, url), function (response) {\n    var responseBody = getResponseBody(response);\n    var responseHeader = getResponseHeader(response, options.responseHeader);\n    return {\n      url: url,\n      ok: response.status >= 200 && response.status < 300,\n      status: response.status,\n      statusText: response.statusText,\n      body: responseHeader || responseBody\n    };\n  });\n});\n\nvar sendRequest = _async(function (config, options, url) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(options.method, url, true);\n  xhr.withCredentials = config.WITH_CREDENTIALS;\n  return _await(getHeaders(config, options), function (headers) {\n    headers.forEach(function (value, key) {\n      xhr.setRequestHeader(key, value);\n    });\n    return new Promise(function (resolve) {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === XMLHttpRequest.DONE) {\n          resolve(xhr);\n        }\n      };\n\n      xhr.send(getRequestBody(options));\n    });\n  });\n});\n\nvar getHeaders = _async(function (config, options) {\n  return _await(resolve(options, config.USERNAME), function (username) {\n    return _await(resolve(options, config.PASSWORD), function (password) {\n      return _await(resolve(options, config.HEADERS), function (defaultHeaders) {\n        var headers = new Headers(Object.assign(Object.assign({\n          Accept: contentTypeJson\n        }, defaultHeaders), options.headers));\n\n        if (isStringWithValue(username) && isStringWithValue(password)) {\n          var credentials = btoa(\"\".concat(username, \":\").concat(password));\n          headers.append(\"Authorization\", \"Basic \".concat(credentials));\n        }\n\n        if (options.body) {\n          headers.append(contentType, contentTypeJson);\n        }\n\n        return headers;\n      });\n    });\n  });\n});\n\nvar resolve = _async(function (options, resolver) {\n  return typeof resolver === \"function\" ? resolver(options) : resolver;\n});\n\nvar contentType = \"Content-Type\";\nvar contentTypeJson = \"application/json\";\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nfunction isStringWithValue(value) {\n  return typeof value === \"string\" && value !== \"\";\n}\n\nfunction getQueryString(params) {\n  var qs = [];\n  Object.keys(params).forEach(function (key) {\n    var value = params[key];\n\n    if (isDefined(value)) {\n      if (Array.isArray(value)) {\n        value.forEach(function (value) {\n          qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(String(value))));\n        });\n      } else {\n        qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(String(value))));\n      }\n    }\n  });\n\n  if (qs.length > 0) {\n    return \"?\".concat(qs.join(\"&\"));\n  }\n\n  return \"\";\n}\n\nfunction getUrl(config, options) {\n  var path = options.path.replace(/[:]/g, \"_\");\n  var url = \"\".concat(config.BASE).concat(path);\n\n  if (options.query) {\n    return \"\".concat(url).concat(getQueryString(options.query));\n  }\n\n  return url;\n}\n\nfunction getRequestBody(options) {\n  if (options.body) {\n    return JSON.stringify(options.body);\n  }\n\n  return undefined;\n}\n\nfunction getResponseHeader(xhr, responseHeader) {\n  if (responseHeader) {\n    return xhr.getResponseHeader(responseHeader);\n  }\n\n  return null;\n}\n\nfunction getResponseBody(xhr) {\n  var headerValue = xhr.getResponseHeader(contentType);\n\n  if (headerValue) {\n    var isJSON = headerValue.toLowerCase().startsWith(contentTypeJson);\n\n    if (isJSON) {\n      return JSON.parse(xhr.responseText);\n    } else {\n      return xhr.responseText;\n    }\n  }\n\n  return null;\n}\n;// CONCATENATED MODULE: ./src/services/UploadsService.ts\n\n\nfunction UploadsService_await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n/**\n * Finalizes an upload part for an in-progress multipart upload. Required API key type: 'secret_*' or 'public_*'.\n * @param accountId\n * @param uploadId\n * @param uploadPartIndex\n * @param requestBody\n * @returns void\n * @throws ApiError\n */\n\n\nfunction UploadsService_async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\n/**\n * Gets a remaining upload part for an in-progress upload. Required API key type: 'secret_*' or 'public_*'.\n * @param accountId\n * @param uploadId\n * @param uploadPartIndex\n * @returns UploadPartV2 Success.\n * @throws ApiError\n */\nvar getUploadPart = UploadsService_async(function (config, accountId, uploadId, uploadPartIndex) {\n  return request(config, {\n    method: \"GET\",\n    path: \"\".concat(accounts).concat(accountId).concat(uploads, \"/\").concat(uploadId).concat(parts).concat(uploadPartIndex)\n  });\n});\nvar completeUploadPart = UploadsService_async(function (config, accountId, uploadId, uploadPartIndex, requestBody) {\n  return request(config, {\n    method: \"PUT\",\n    path: \"\".concat(accounts).concat(accountId).concat(uploads, \"/\").concat(uploadId).concat(parts).concat(uploadPartIndex),\n    body: requestBody\n  });\n});\nvar beginMultipartUpload = UploadsService_async(function (config, accountId, requestBody) {\n  return request(config, {\n    method: \"POST\",\n    path: \"\".concat(accounts).concat(accountId).concat(uploads),\n    body: requestBody\n  });\n});\nvar accounts = \"/v2/accounts/\";\nvar uploads = \"/uploads\";\nvar parts = \"/parts/\";\n;// CONCATENATED MODULE: ./src/index.ts\n/* istanbul ignore file */\n\n/* tslint:disable */\n\n/* eslint-disable */\n\n\n\n\n // Used by upload-js\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(\"./src/index.ts\");\n/******/ })()\n;"],"names":["module","__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","beginMultipartUpload","completeUploadPart","getUploadPart","request","_await","value","then","direct","_async","f","args","i","e","config","options","url","getUrl","sendRequest","response","responseBody","getResponseBody","responseHeader","getResponseHeader","xhr","getHeaders","headers","key","resolve","getRequestBody","username","password","defaultHeaders","contentTypeJson","isStringWithValue","credentials","contentType","resolver","isDefined","getQueryString","params","qs","path","headerValue","isJSON","UploadsService_async","accountId","uploadId","uploadPartIndex","accounts","uploads","parts","requestBody","__webpack_module_cache__","moduleId","exports","definition","obj","prop"],"mappings":"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"}